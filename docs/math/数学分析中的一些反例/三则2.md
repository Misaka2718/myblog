---
title: 三则2
createTime: 2026/01/15 21:16:06
permalink: /math/wczuxiqn/
---


## 经典反例:函数有界但是导数极限不为零
The American Mathematical Monthly, Vol. 68, No. 5 (May, 1961), pp. 508-509
E 1439 [1960, 922]. Proposed by J. M. Elkin, Long Island University

构造一个有界严格单调函数$f\left( x\right)$ 使得 ${f}^{\prime }\left( x\right)$ 对任意实数$ x$ 存在 且有非零极限 $\mathop{\lim }\limits_{{x \rightarrow   \pm  \infty }}{f}^{\prime }\left( x\right)  \neq  0$ .

Solution by $D.A.$ Moran, University of Illinois. 令$f\left( n\right)  = 1 - {2}^{-n}$ ,$n=1,2,3,\dotsb,$ . 以此扩充 $f$ 的定义到$f_n(x)$.
原则是这样的:

1. ${f}_{n}\left( x\right)$在各个整数区间$\left\lbrack  {n, n + 1}\right\rbrack$ 上满足
$$
\text{整数点上和}f\left( n\right)\text{一致}:{f}_{n}\left( n\right)  = f\left( n\right) ,\;{f}_{n}\left( {n + 1}\right)  = f\left( {n + 1}\right) ,
$$

$$
\text{中点取两端平均值}:{f}_{n}\left( {n + 1/2}\right)  = \{ f\left( n\right)  + f\left( {n + 1}\right) \} /2,
$$

$$
\text{两端平滑中间陡峭}:{f}_{n}^{\prime }\left( n\right)  = {f}_{n}^{\prime }\left( {n + 1}\right)  = 0,\;{f}_{n}^{\prime }\left( {n + 1/2}\right)  = 1.
$$
2. 再令${f}_{n}\left( x\right)$整体上是单增有界的,使用一段光滑狐连接整数点和中点.**这段弧是单增的且满足1.三个条件**.例如,使用多项式插值.

3. 扩充负数处函数值,可以使用奇延拓 $f\left( {-x}\right)  =  - f\left( x\right)$ . 

现在 $f$ 对任意实数有定义, 而且有界, 而且是单增的.但是 $\mathop{\lim }\limits_{{x \rightarrow   \pm  \infty }}{f}^{\prime }\left( x\right)  \neq  0$ , 因为极限不存在!$f'(x)$在每个闭区间$\left\lbrack  {n, n + 1}\right\rbrack$ 内达到值 0 和 1。

<font color="red">马鹿 date:2025.7.21</font>

## 1. 无处连续的函数，其绝对值却处处连续

$$
f\left( x\right) \equiv \begin{cases}
1 & \text{如 }x\text{ 是有理数,} \\
-1 & \text{如 }x\text{ 是无理数.}
\end{cases}
$$

## 2. 仅在一点连续的函数

$$
f\left( x\right) \equiv \begin{cases}
x & \text{如 }x\text{ 是有理数,} \\
-x & \text{如 }x\text{ 是无理数.}
\end{cases}
$$

仅有的连续点是 0 .

## 3. 处处有限而又处处局部无界的函数

如果 \( x \) 是一个有理数，等于 \( m/n \)，此处 \( m \) 和 \( n \) 是整数且使分数 \( m/n \) 是最低项的(最简分数)，又 \( n>0 \)，则 \( m \) 和 \( n \) 能被唯一确定（参照\([35]\)，p. 53）。所以下面的函数是定义确切的：

\[
f(x)=
\begin{cases}
n & \text{如 } x \text{ 是有理数，} x = m/n \text{ 为最低项的，} n>0; \\
0 & \text{如 } x \text{ 是无理数.}
\end{cases}
\]

如果 \( f \) 在 \( N(a, \varepsilon) \) 有界，则 \( N(a, \varepsilon) \) 内全体 \( m/n \) 的分母 \( n \) 有界，从而分子 \( m \) 也将有界。但是这只能许可有限多个有理数在区间 \( N(a, \varepsilon) \) 内.（矛盾）
<font color="red">马鹿 date:2025.7.28</font>
### 4. 函数 \( y = f(u) \)，\( u \in \Re \)，和 \( u = g(x) \)，\( x \in \Re \)，其复合函数

\( y = f(g(x)) \) 处处连续，并适合  
\[
\lim\limits_{u \to b} f(u) = c, \quad \lim\limits_{x \to a} g(x) = b, \quad \lim\limits_{x \to a} f(g(x)) \neq c
\]  
\(-25-\)  

设  
\[
f(u) \equiv
\begin{cases}
0 & \text{如 } u \neq 0, \ u \in \Re, \\
1 & \text{如 } u = 0,
\end{cases}
\]  
则有 \( \lim\limits_{u \to 0} f(u) = 0 \)。如果对于一切 \( x \in \Re \)，设 \( g(x) \equiv 0 \)，则对于一切 \( x \)，\( f(g(x)) = 1 \)，所以 \( \lim\limits_{x \to 0} f(g(x)) = 1 \)。  

如果再附加条件：\( x \neq a \Rightarrow g(x) \neq b \)，这个反例就变成不可能的了。  

### 附注 两个函数复合的极限选读

Limit of the Composite of Two Functions
 Author(s): P. Ramankutty and  M. K. Vamanamurthy
 Source: The American Mathematical Monthly, Vol. 82, No. 1 (Jan., 1975), pp. 63-64

几乎所有微积分教材都包含关于两个函数复合连续性的定理，但仅有极少教材在极限的语境下引入这个问题.

**定理**：若\(\lim\limits_{x \to a} f(x) = A\)且\(\lim\limits_{y \to A} g(y) = B\)，则要么\(\lim\limits_{x \to a} g(f(x)) = B\)，要么\(\lim\limits_{x \to a} g(f(x)) = g(A)\)，要么\(\lim\limits_{x \to a} g(f(x))\)不存在。

**证明**：设\(\varepsilon > 0\)。则存在\(\gamma > 0\)和\(\delta > 0\)，使得当\(0 < |x - A| < \gamma\)时，\(|g(x) - B| < \varepsilon\)；且当\(0 < |x - a| < \delta\)时，\(|f(x) - A| < \gamma\)。

(i) 假设存在\(a\)的一个邻域\(N\)，使得对任意\(x \in N \setminus \{a\}\)，都有\(f(x) \neq A\)。那么选取\(\delta\)使得\((a - \delta, a + \delta) \subset N\)，则当\(0 < |x - a| < \delta\)时，有\(0 < |f(x) - A| < \gamma\)。这表明：\(\lim\limits_{x \to a} g(f(x)) = B\)。

(ii) 若(i)中的假设不成立，那么对于\(a\)的每个邻域\(N\)，都存在\(x \in N \setminus \{a\}\)使得\(f(x) = A\)，且对这样的\(x\)，有\(g(f(x)) = g(A)\)。因此，若\(\lim\limits_{x \to a} g(f(x))\)存在，该极限必为\(g(A)\)。

至此，定理得证。
**注记**：定理中提到的每种情形都确可出现，以下例子可说明，其中
\[
g(x) =
\begin{cases}
1 & \text{若 } x = 0 \\
0 & \text{若 } x \neq 0
\end{cases}
\]

1. \(f(x) = x\)，\(a = 0\)，

2. \(f(x) = \lfloor x \rfloor\)（向下取整函数，即不大于\(x\)的最大整数 ），\(a = \frac{1}{2}\)，

3. \(f(x) =
\begin{cases}
x & \text{若 } x \text{ 为有理数，} \\
0 & \text{若 } x \text{ 为无理数。}
\end{cases} \quad a = 0\)。

## 5.无理点处连续,而在有理点间断的函数

最后, 在区间 \([0,1]\) 内定义函数 \( f(x) \): 若 \( x \) 是有理数而表示为不可通约分数 \(\dfrac{p}{q}\)（即最简分数，分子分母互质 ）, 则 \( f(x) = \dfrac{1}{q} \); 对于无理数 \( x \) 则令 \( f(x) = 0 \)。我们可以肯定, 函数在任一有理点有普通间断, 同时在任一无理点它是连续的.  

事实上, 设 \( x_0 \) 是所考察的区间内的任意一点. 若指定任意数 \( \varepsilon > 0 \), 则不超过 \( \dfrac{1}{\varepsilon} \) 的自然数 \( q \) 仅只有限个数存在, 意即在区间内只能找出有限个有理点 \( \dfrac{p}{q} \) 使 \( f\left( \dfrac{p}{q} \right) = \dfrac{1}{q} \geqslant \varepsilon \)。点 \( x_0 \) 可以用不含任一个这种点在内 (或许要除去点 \( x_0 \) 本身) 的邻域 \( (x_0 - \delta, x_0 + \delta) \) 来包围住. 那么, 只要 \( |x - x_0| < \delta (x \neq x_0) \), 不论 \( x \) 是否有理数, 在任何情形常有 \( |f(x)| < \varepsilon \)。意即, 对于任意点 \( x_0 \) 存在着  
\[
f(x_0 + 0) = f(x_0 - 0) = 0
\]  

若 \( x_0 \) 是无理点, 则又有 \( f(x_0) = 0 \), 即函数在这点为连续; 又若 \( x_0 \) 是有理点, 则 \( f(x_0) \) 异于 \( 0 \)。故有两方的普通间断.  

## 6.导数间断的例题

若所给函数 $y = f(x)$ 在某一区间 $\mathcal{X}$ 内的每一点处有有限导数 $y' = f'(x)$ 存在，则这导数本身就也是 $\mathcal{X}$ 内的 $x$ 的函数。函数 $f'(x)$ 也可能并不连续。例如，考察函数  
$$f(x) = x^2 \cdot \sin \dfrac{1}{x} (x \neq 0 \text{时}),\quad f(0) = 0.$$  

&emsp;&emsp;若 $x \neq 0$，则用通常的方法就求出它导数  
$$f'(x) = 2x \cdot \sin \dfrac{1}{x} - \cos \dfrac{1}{x},$$  
但所得的结果在 $x = 0$ 是不能用的。在这种情形，直接用导数概念的定义来讨论，就有  
$$f'(0) = \lim\limits_{\Delta x \to 0} \dfrac{f(0 + \Delta x) - f(0)}{\Delta x} = \lim\limits_{\Delta x \to 0} \Delta x \cdot \sin \dfrac{1}{\Delta x} = 0.$$  
同时，清楚地，$f'(x)$ 在 $x \to 0$ 时并不趋于任何极限，因此在 $x = 0$ 时函数 $f'(x)$ 有间断。  

&emsp;&emsp;这对于任意的函数  
$$f(x) = x^\alpha \cdot \sin \dfrac{1}{x} (x \neq 0 \text{时}),\quad f(0) = 0,$$  
只要 $2 > \alpha > 1$，也同样是真实的。  

&emsp;&emsp;导数的间断都是属于第二类的。这并非偶然的事件：事实上,导数不能有第一类的间断，即跃度。  
<font color="red">马鹿 date:2025.8.3</font>
## 7. 导数于某点取正值的可微函数，但在该点的任何邻域内都不是单调的函数  

&emsp;&emsp;函数  
\[
f(x)\equiv
\begin{cases}
x + 2x^2 \sin \dfrac{1}{x} & \text{如 } x \neq 0, \\
0 & \text{如 } x = 0
\end{cases}
\]  
有导数  
\[
f'(x)=
\begin{cases}
1 + 4x \sin \dfrac{1}{x} - 2 \cos \dfrac{1}{x} & \text{如 } x \neq 0, \\
1 & \text{如 } x = 0.
\end{cases}
\]
原点处的导数值同第6反例按照定义得出:  
$$f'(0) = \lim\limits_{\Delta x \to 0} \dfrac{f(0 + \Delta x) - f(0)}{\Delta x} = \lim\limits_{\Delta x \to 0} \frac{ \Delta x+2\Delta x^2\sin \dfrac{1}{x}}{\Delta x}= 1.$$  
在原点的每个邻域，\(f'(x)\) 兼取正值和负值。  
![原点附近](origin.jpg)
$$
\text{图1}.\quad x + 2x^2 \sin \dfrac{1}{x}
$$
![导数](Dfx.jpg)
$$
\text{图2}.\quad 1 + 4x \sin \dfrac{1}{x} - 2 \cos \dfrac{1}{x}
$$

## 8. 一个函数，其导数为有限，但在一个闭区间上却无界函数  

&emsp;&emsp;函数  
\[
f(x)\equiv
\begin{cases}
x^2 \sin \dfrac{1}{x^2} & \text{如 } x \neq 0, \\
0 & \text{如 } x = 0
\end{cases}
\]  
有导数  
\[
f'(x)=
\begin{cases}
2x \sin \dfrac{1}{x^2} - \dfrac{2}{x} \cos \dfrac{1}{x^2} & \text{如 } x \neq 0, \\
0 & \text{如 } x = 0,
\end{cases}
\]  
它在 \([-1, 1]\) 上无界。原点处的导数值按定义算得.
![无界导数](daoshu2.jpg)
$$
\text{图3}.\quad f'(x)\text{的无界性}
$$
<font color="red">马鹿 date:2025.8.10</font>
## 9. 函数值在\((-\infty, 0]\)上等于零；在\([0, 1]\)上严格单调；在\([1, +\infty)\)上等于 1 的无穷可微的“连接函数”
即寻找一个光滑线段连接两条水平射线.
函数定义如下：

\[
f(x) \equiv
\begin{cases}
&0  \quad &\text{如 } x \le 0, \\
&\exp\left[ -\dfrac{1}{x^2} \exp\left( -\dfrac{1}{(1 - x)^2} \right) \right] & \text{如 } 0 < x < 1, \\
&1 & \text{如 } x \ge 1.
\end{cases}
\]
![平滑过渡函数（Smooth Transition Function）或光滑阶梯函数](SmoothTransitionFunction.png){width=70%}
$$
\text{图4}.\quad \text{无限可微平滑过渡函数（Smooth Transition Function）}
$$
###  基于 \(e^{-1/x^2}\) 的积分构造
\[
\phi(x) =
\begin{cases}
0, & x \le 0, \\[6pt]
\displaystyle \frac{\int_0^x e^{-1/t^2}\,dt}{\int_0^1 e^{-1/t^2}\,dt}, & 0<x<1, \\[12pt]
1, & x \ge 1.
\end{cases}
\]

## 10.对每个正整数 \( p \)，都有 \(\lim\limits_{n \to +\infty} (a_{n+p} - a_n) = 0\) 的发散序列 \(\{a_n\}\)  

取 \( a_n \) 为调和级数的第 \( n \) 个部分和：  
\[
a_n \equiv 1 + \frac{1}{2} + \cdots + \frac{1}{n}
\]  

这时 \(\{a_n\}\) 是发散的，但是对于 \( p > 0 \)，有  
\[
a_{n+p} - a_n = \frac{1}{n+1} + \cdots + \frac{1}{n+p} \le \frac{p}{n+1} \to 0
\]  


重要的是，注意零极限 \(\lim\limits_{n \to +\infty} (a_{n+p} - a_n) = 0\) 对于 \( p \) 不是一致的。事实上，要保持所规定的性质，这个零极限对于 \( p \) 就不能是一致的；因为它对于 \( p \) 是一致的陈述等价于判别序列收敛的 Cauchy 准则.


表达上一段的主要思想的另一种形式是：如果 \(\{a_n\}\) 发散，则存在着一个严格递增的正整数序列 \(\{p_n\}\) 使 \((a_{n+p_n} - a_n) \nrightarrow 0\)。就调和级数的部分和这个特殊序列来说，序列 \(\{p_n\}\) 可以选为 \(\{n\}\)，因为这时  
\[
a_{n+p_n} - a_n = \frac{1}{n+1} + \cdots + \frac{1}{n+n} \ge \frac{n}{n+n} = \frac{1}{2}
\]  
作为 \(a_n\) 的近似\(b_n=\ln n\),
\[
b_{n+p} - b_n = \ln (n+p)-\ln n=\ln (1+\frac{p}{n})\to 0\quad (n\to \infty)
\]  
也是一个例子.
## 11.两个发散数列的乘积收敛
令 \( a_n = (-1)^n \) , \( b_n = (-1)^{n+1} \)。
它们的乘积数列 \(\{c_n = a_n \cdot b_n\}\) 是：  
\[
c_n = (-1)^n \cdot (-1)^{n+1} = (-1)^{2n+1} = -1
\]  
\(\{c_n\}\) 它显然收敛于 \(-1\)。  
<font color="red">马鹿 date:2025.8.16</font>